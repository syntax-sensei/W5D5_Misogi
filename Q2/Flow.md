**SQL Agent Workflow Diagram**

<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-7.999992370605469 -8 530.0562744140625 1708.262451171875" style="max-width: 530.0562744140625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1752849469803-t7im406ul"><style>#mermaid-svg-1752849469803-t7im406ul{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#cccccc;}#mermaid-svg-1752849469803-t7im406ul .error-icon{fill:#90274a;}#mermaid-svg-1752849469803-t7im406ul .error-text{fill:#f48771;stroke:#f48771;}#mermaid-svg-1752849469803-t7im406ul .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1752849469803-t7im406ul .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1752849469803-t7im406ul .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1752849469803-t7im406ul .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1752849469803-t7im406ul .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1752849469803-t7im406ul .marker{fill:#cccccc;stroke:#cccccc;}#mermaid-svg-1752849469803-t7im406ul .marker.cross{stroke:#cccccc;}#mermaid-svg-1752849469803-t7im406ul svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1752849469803-t7im406ul .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#cccccc;}#mermaid-svg-1752849469803-t7im406ul .cluster-label text{fill:#f8f8f2;}#mermaid-svg-1752849469803-t7im406ul .cluster-label span,#mermaid-svg-1752849469803-t7im406ul p{color:#f8f8f2;}#mermaid-svg-1752849469803-t7im406ul .label text,#mermaid-svg-1752849469803-t7im406ul span,#mermaid-svg-1752849469803-t7im406ul p{fill:#cccccc;color:#cccccc;}#mermaid-svg-1752849469803-t7im406ul .node rect,#mermaid-svg-1752849469803-t7im406ul .node circle,#mermaid-svg-1752849469803-t7im406ul .node ellipse,#mermaid-svg-1752849469803-t7im406ul .node polygon,#mermaid-svg-1752849469803-t7im406ul .node path{fill:#272822;stroke:#414339;stroke-width:1px;}#mermaid-svg-1752849469803-t7im406ul .flowchart-label text{text-anchor:middle;}#mermaid-svg-1752849469803-t7im406ul .node .label{text-align:center;}#mermaid-svg-1752849469803-t7im406ul .node.clickable{cursor:pointer;}#mermaid-svg-1752849469803-t7im406ul .arrowheadPath{fill:#d8d7dd;}#mermaid-svg-1752849469803-t7im406ul .edgePath .path{stroke:#cccccc;stroke-width:2.0px;}#mermaid-svg-1752849469803-t7im406ul .flowchart-link{stroke:#cccccc;fill:none;}#mermaid-svg-1752849469803-t7im406ul .edgeLabel{background-color:#27282299;text-align:center;}#mermaid-svg-1752849469803-t7im406ul .edgeLabel rect{opacity:0.5;background-color:#27282299;fill:#27282299;}#mermaid-svg-1752849469803-t7im406ul .labelBkg{background-color:rgba(39, 40, 34, 0.5);}#mermaid-svg-1752849469803-t7im406ul .cluster rect{fill:rgba(135, 139, 145, 0.25);stroke:#99947c;stroke-width:1px;}#mermaid-svg-1752849469803-t7im406ul .cluster text{fill:#f8f8f2;}#mermaid-svg-1752849469803-t7im406ul .cluster span,#mermaid-svg-1752849469803-t7im406ul p{color:#f8f8f2;}#mermaid-svg-1752849469803-t7im406ul div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#75715e;border:1px solid #99947c;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1752849469803-t7im406ul .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#cccccc;}#mermaid-svg-1752849469803-t7im406ul :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1752849469803-t7im406ul_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1752849469803-t7im406ul_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1752849469803-t7im406ul_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1752849469803-t7im406ul_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1752849469803-t7im406ul_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M233.144,55L233.144,59.167C233.144,63.333,233.144,71.667,233.21,79.2C233.276,86.734,233.408,93.467,233.474,96.834L233.54,100.201"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M190.673,229.592L176.964,242.371C163.255,255.149,135.837,280.706,122.128,302.234C108.419,323.762,108.419,341.262,108.419,357.229C108.419,373.196,108.419,387.629,108.419,399.662C108.419,411.696,108.419,421.329,108.419,426.146L108.419,430.962"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-D" id="L-B-D-0" d="M276.614,229.592L290.157,242.371C303.699,255.149,330.784,280.706,344.326,298.301C357.869,315.896,357.869,325.529,357.869,330.346L357.869,335.162"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-E" id="L-C-E-0" d="M108.419,472.862L108.419,478.562C108.419,484.262,108.419,495.662,108.419,509.246C108.419,522.829,108.419,538.596,108.419,546.479L108.419,554.362"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" id="L-D-F-0" d="M357.869,377.062L357.869,381.229C357.869,385.396,357.869,393.729,357.869,401.179C357.869,408.629,357.869,415.196,357.869,418.479L357.869,421.762"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M357.869,482.062L357.869,486.229C357.869,490.396,357.869,498.729,357.869,506.179C357.869,513.629,357.869,520.196,357.869,523.479L357.869,526.762"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-H" id="L-E-H-0" d="M108.419,614.662L108.419,623.429C108.419,632.196,108.419,649.729,117.503,662.32C126.588,674.91,144.757,682.558,153.842,686.382L162.927,690.206"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M357.869,642.262L357.869,646.429C357.869,650.596,357.869,658.929,348.784,666.92C339.699,674.91,321.53,682.558,312.445,686.382L303.361,690.206"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" id="L-H-I-0" d="M233.144,747.262L233.144,751.429C233.144,755.596,233.144,763.929,233.144,771.379C233.144,778.829,233.144,785.396,233.144,788.679L233.144,791.962"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-J" id="L-I-J-0" d="M233.144,870.662L233.144,874.829C233.144,878.996,233.144,887.329,233.144,894.779C233.144,902.229,233.144,908.796,233.144,912.079L233.144,915.362"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-K" id="L-J-K-0" d="M190.609,975.662L184.164,979.829C177.719,983.996,164.83,992.329,158.385,999.779C151.941,1007.229,151.941,1013.796,151.941,1017.079L151.941,1020.362"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-L" id="L-K-L-0" d="M138.303,1080.662L135.477,1086.362C132.65,1092.062,126.997,1103.462,124.17,1113.979C121.344,1124.496,121.344,1134.129,121.344,1138.946L121.344,1143.762"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-M" id="L-K-M-0" d="M201.77,1080.662L212.099,1086.362C222.427,1092.062,243.084,1103.462,260.211,1114.328C277.337,1125.194,290.934,1135.525,297.733,1140.69L304.531,1145.856"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-J" id="L-M-J-0" d="M354.709,1149.062L356.733,1143.362C358.757,1137.662,362.805,1126.262,364.829,1110.279C366.853,1094.296,366.853,1073.729,366.853,1054.696C366.853,1035.662,366.853,1018.162,357.063,1005.569C347.274,992.975,327.695,985.287,317.905,981.443L308.115,977.6"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-N" id="L-L-N-0" d="M121.344,1204.062L121.344,1208.229C121.344,1212.396,121.344,1220.729,121.344,1228.179C121.344,1235.629,121.344,1242.196,121.344,1245.479L121.344,1248.762"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-O" id="L-N-O-0" d="M121.344,1290.662L121.344,1294.829C121.344,1298.996,121.344,1307.329,121.344,1314.779C121.344,1322.229,121.344,1328.796,121.344,1332.079L121.344,1335.362"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-P" id="L-O-P-0" d="M121.344,1395.662L121.344,1399.829C121.344,1403.996,121.344,1412.329,121.344,1419.779C121.344,1427.229,121.344,1433.796,121.344,1437.079L121.344,1440.362"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-Q" id="L-P-Q-0" d="M121.344,1500.662L121.344,1504.829C121.344,1508.996,121.344,1517.329,121.344,1524.779C121.344,1532.229,121.344,1538.796,121.344,1542.079L121.344,1545.362"/><path marker-end="url(#mermaid-svg-1752849469803-t7im406ul_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Q LE-R" id="L-Q-R-0" d="M121.344,1605.662L121.344,1609.829C121.344,1613.996,121.344,1622.329,121.344,1629.779C121.344,1637.229,121.344,1643.796,121.344,1647.079L121.344,1650.362"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(108.41874694824219, 358.7624988555908)" class="edgeLabel"><g transform="translate(-46.5625, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="93.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Simple Agent</span></div></foreignObject></g></g><g transform="translate(357.8687438964844, 306.26249980926514)" class="edgeLabel"><g transform="translate(-46.69375228881836, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="93.38750457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Toolkit Agent</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(121.34374618530273, 1114.8624963760376)" class="edgeLabel"><g transform="translate(-17.375, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="34.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Valid</span></div></foreignObject></g></g><g transform="translate(263.74062061309814, 1114.8624963760376)" class="edgeLabel"><g transform="translate(-23.818750381469727, -9.199999809265137)" class="label"><foreignObject height="18.399999618530273" width="47.63750076293945"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Invalid</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(233.14374542236328, 27.5)" id="flowchart-A-92" class="node default default flowchart-label"><rect height="55" width="187.27500915527344" y="-27.5" x="-93.63750457763672" ry="0" rx="0" style="fill:#e1f5fe;" class="basic label-container"/><g transform="translate(-86.13750457763672, -20)" style="" class="label"><rect/><foreignObject height="40" width="172.27500915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🛒 User Input<br />Natural Language Query</span></div></foreignObject></g></g><g transform="translate(233.14374542236328, 188.53125)" id="flowchart-B-93" class="node default default flowchart-label"><polygon style="fill:#fff3e0;" transform="translate(-83.53125095367432,83.53125095367432)" class="label-container" points="83.53125095367432,0 167.06250190734863,-83.53125095367432 83.53125095367432,-167.06250190734863 0,-83.53125095367432"/><g transform="translate(-57.73125076293945, -10.800000190734863)" style="" class="label"><rect/><foreignObject height="21.600000381469727" width="115.4625015258789"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🔧 Agent Mode?</span></div></foreignObject></g></g><g transform="translate(108.41874694824219, 454.56249809265137)" id="flowchart-C-95" class="node default default flowchart-label"><rect height="36.60000038146973" width="216.83750915527344" y="-18.300000190734863" x="-108.41875457763672" ry="0" rx="0" style="fill:#e8f5e8;" class="basic label-container"/><g transform="translate(-100.91875457763672, -10.800000190734863)" style="" class="label"><rect/><foreignObject height="21.600000381469727" width="201.83750915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">⚡ create_sql_chat_agent()</span></div></foreignObject></g></g><g transform="translate(357.8687438964844, 358.7624988555908)" id="flowchart-D-97" class="node default default flowchart-label"><rect height="36.60000038146973" width="312.375" y="-18.300000190734863" x="-156.1875" ry="0" rx="0" style="fill:#f3e5f5;" class="basic label-container"/><g transform="translate(-148.6875, -10.800000190734863)" style="" class="label"><rect/><foreignObject height="21.600000381469727" width="297.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🔧 create_sql_chat_agent_with_toolkit()</span></div></foreignObject></g></g><g transform="translate(108.41874694824219, 587.1624965667725)" id="flowchart-E-99" class="node default default flowchart-label"><rect height="55" width="125.9124984741211" y="-27.5" x="-62.95624923706055" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-55.45624923706055, -20)" style="" class="label"><rect/><foreignObject height="40" width="110.9124984741211"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🤖 ChatOpenAI<br />GPT-4o</span></div></foreignObject></g></g><g transform="translate(357.8687438964844, 454.56249809265137)" id="flowchart-F-101" class="node default default flowchart-label"><rect height="55" width="182.0625" y="-27.5" x="-91.03125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-83.53125, -20)" style="" class="label"><rect/><foreignObject height="40" width="167.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🛠️ SQLDatabaseToolkit<br />+ Custom Prompt</span></div></foreignObject></g></g><g transform="translate(357.8687438964844, 587.1624965667725)" id="flowchart-G-103" class="node default default flowchart-label"><rect height="110.20000457763672" width="188.15000915527344" y="-55.10000228881836" x="-94.07500457763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-86.57500457763672, -47.60000228881836)" style="" class="label"><rect/><foreignObject height="95.20000457763672" width="173.15000915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📋 Available Tools:<br />• sql_db_list_tables<br />• sql_db_schema<br />• sql_db_query<br />• sql_db_query_checker</span></div></foreignObject></g></g><g transform="translate(233.14374542236328, 719.7624950408936)" id="flowchart-H-105" class="node default default flowchart-label"><rect height="55" width="133.9000015258789" y="-27.5" x="-66.95000076293945" ry="0" rx="0" style="fill:#fff8e1;" class="basic label-container"/><g transform="translate(-59.45000076293945, -20)" style="" class="label"><rect/><foreignObject height="40" width="118.9000015258789"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🗄️ SQLDatabase<br />Connection</span></div></foreignObject></g></g><g transform="translate(233.14374542236328, 833.962495803833)" id="flowchart-I-109" class="node default default flowchart-label"><rect height="73.4000015258789" width="206.375" y="-36.70000076293945" x="-103.1875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-95.6875, -29.200000762939453)" style="" class="label"><rect/><foreignObject height="58.400001525878906" width="191.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📊 Database Analysis<br />• Check table schemas<br />• Understand relationships</span></div></foreignObject></g></g><g transform="translate(233.14374542236328, 948.1624965667725)" id="flowchart-J-111" class="node default default flowchart-label"><rect height="55" width="199.71250915527344" y="-27.5" x="-99.85625457763672" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-92.35625457763672, -20)" style="" class="label"><rect/><foreignObject height="40" width="184.71250915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🔍 SQL Query Generation<br />Based on user question</span></div></foreignObject></g></g><g transform="translate(151.9406213760376, 1053.1624965667725)" id="flowchart-K-113" class="node default default flowchart-label"><rect height="55" width="163.4875030517578" y="-27.5" x="-81.7437515258789" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-74.2437515258789, -20)" style="" class="label"><rect/><foreignObject height="40" width="148.4875030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">✅ Query Validation<br />Check syntax &amp; logic</span></div></foreignObject></g></g><g transform="translate(121.34374618530273, 1176.5624961853027)" id="flowchart-L-115" class="node default default flowchart-label"><rect height="55" width="176.8874969482422" y="-27.5" x="-88.4437484741211" ry="0" rx="0" style="fill:#e3f2fd;" class="basic label-container"/><g transform="translate(-80.9437484741211, -20)" style="" class="label"><rect/><foreignObject height="40" width="161.8874969482422"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">▶️ Execute SQL Query<br />Against qc.db</span></div></foreignObject></g></g><g transform="translate(344.9437446594238, 1176.5624961853027)" id="flowchart-M-117" class="node default default flowchart-label"><rect height="55" width="170.3125" y="-27.5" x="-85.15625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-77.65625, -20)" style="" class="label"><rect/><foreignObject height="40" width="155.3125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🔄 Regenerate Query<br />Fix errors</span></div></foreignObject></g></g><g transform="translate(121.34374618530273, 1272.3624954223633)" id="flowchart-N-121" class="node default default flowchart-label"><rect height="36.60000038146973" width="157.22500610351562" y="-18.300000190734863" x="-78.61250305175781" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-71.11250305175781, -10.800000190734863)" style="" class="label"><rect/><foreignObject height="21.600000381469727" width="142.22500610351562"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📋 Raw SQL Results</span></div></foreignObject></g></g><g transform="translate(121.34374618530273, 1368.1624946594238)" id="flowchart-O-123" class="node default default flowchart-label"><rect height="55" width="215.8000030517578" y="-27.5" x="-107.9000015258789" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-100.4000015258789, -20)" style="" class="label"><rect/><foreignObject height="40" width="200.8000030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🧠 LLM Processing<br />Convert to natural language</span></div></foreignObject></g></g><g transform="translate(121.34374618530273, 1473.1624946594238)" id="flowchart-P-125" class="node default default flowchart-label"><rect height="55" width="201.2375030517578" y="-27.5" x="-100.6187515258789" ry="0" rx="0" style="fill:#e8f5e8;" class="basic label-container"/><g transform="translate(-93.1187515258789, -20)" style="" class="label"><rect/><foreignObject height="40" width="186.2375030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">📝 Final Answer<br />Human-readable response</span></div></foreignObject></g></g><g transform="translate(121.34374618530273, 1578.1624946594238)" id="flowchart-Q-127" class="node default default flowchart-label"><rect height="55" width="162.0625" y="-27.5" x="-81.03125" ry="0" rx="0" style="fill:#fce4ec;" class="basic label-container"/><g transform="translate(-73.53125, -20)" style="" class="label"><rect/><foreignObject height="40" width="147.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">🌐 Frontend Display<br />Streamlit UI</span></div></foreignObject></g></g><g transform="translate(121.34374618530273, 1673.9624938964844)" id="flowchart-R-129" class="node default default flowchart-label"><rect height="36.60000038146973" width="164.1125030517578" y="-18.300000190734863" x="-82.0562515258789" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-74.5562515258789, -10.800000190734863)" style="" class="label"><rect/><foreignObject height="21.600000381469727" width="149.1125030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">👤 User sees answer</span></div></foreignObject></g></g></g></g></g></svg>
